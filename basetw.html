<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG Battle Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Combined CSS for both character selection and battle game */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Character Selection Styles */
        .login-container {
            background: rgba(0, 0, 20, 0.85);
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .title {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: #ffcc00;
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.7);
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: #eee;
        }
        
        .player-name {
            margin: 20px 0;
        }
        
        .player-name input {
            width: 80%;
            padding: 15px;
            border: none;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.1rem;
            text-align: center;
            border: 2px solid #4e54c8;
            outline: none;
            transition: all 0.3s;
        }
        
        .player-name input:focus {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ffcc00;
            box-shadow: 0 0 15px rgba(255, 204, 0, 0.5);
        }
        
        .character-selection {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
            margin: 30px 0;
        }
        
        .character-card {
            background: rgba(30, 30, 60, 0.7);
            border-radius: 15px;
            padding: 20px;
            width: 180px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            text-align: center;
        }
        
        .character-card:hover {
            transform: translateY(-10px);
            background: rgba(50, 50, 100, 0.8);
            border-color: #4e54c8;
        }
        
        .character-card.selected {
            transform: scale(1.05);
            border-color: #ffcc00;
            background: rgba(70, 70, 120, 0.9);
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.6);
        }
        
        .character-card img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #4e54c8;
            margin-bottom: 15px;
        }
        
        .character-card h3 {
            font-size: 1.3rem;
            color: #ffcc00;
        }
        
        #start-quest-btn {
            background: linear-gradient(to right, #ffcc00, #ff9500);
            color: #1a1a40;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        #start-quest-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        #start-quest-btn:disabled {
            background: linear-gradient(to right, #555, #777);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .game-link {
            margin-top: 20px;
            font-size: 1rem;
            color: #aaa;
        }
        
        .game-link a {
            color: #4e54c8;
            text-decoration: none;
        }
        
        .game-link a:hover {
            text-decoration: underline;
            color: #ffcc00;
        }
        
        /* Battle Game Styles */
        .battle-container {
            display: none;
            width: 95%;
            max-width: 1000px;
            background: rgba(0, 0, 20, 0.85);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(30, 30, 60, 0.7);
            border-radius: 15px;
        }
        
        .player-info, .monster-info {
            text-align: center;
            width: 25%;
        }
        
        .game-info {
            display: flex;
            justify-content: space-around;
            width: 50%;
        }
        
        .info-box {
            text-align: center;
            padding: 10px;
        }
        
        .info-box h3 {
            font-size: 1rem;
            margin-bottom: 5px;
            color: #ffcc00;
        }
        
        .info-box div {
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .monster-display {
            width: 100px;
            height: 100px;
            margin: 0 auto 10px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            border: 3px solid #4e54c8;
        }
        
        .monster-card {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
        }
        
        .appear {
            animation: appear 0.5s ease-out;
        }
        
        .defeat {
            animation: defeat 1.5s forwards;
        }
        
        @keyframes appear {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        @keyframes defeat {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2) rotate(10deg); opacity: 0.7; }
            100% { transform: scale(0) rotate(-30deg); opacity: 0; }
        }
        
        #monster-name {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        #monster-level {
            font-size: 1rem;
            color: #aaa;
            margin-bottom: 10px;
        }
        
        .health-bar {
            width: 100%;
            height: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        
        .health-fill {
            height: 100%;
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            border-radius: 10px;
            transition: width 0.5s;
        }
        
        #player-health {
            background: linear-gradient(to right, #00b09b, #96c93d);
        }
        
        .health-value {
            font-size: 0.9rem;
        }
        
        .game-board {
            text-align: center;
        }
        
        .game-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .game-button {
            background: rgba(40, 40, 80, 0.8);
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.2rem;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 120px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .game-button:hover {
            background: rgba(60, 60, 120, 0.9);
            transform: translateY(-5px);
        }
        
        .game-button.active {
            background: rgba(255, 204, 0, 0.7);
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.8);
        }
        
        .game-button i {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .game-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .game-controls button {
            background: linear-gradient(to right, #4e54c8, #8f94fb);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .game-controls button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .game-controls button:disabled {
            background: linear-gradient(to right, #555, #777);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .feedback {
            min-height: 60px;
            font-size: 1.3rem;
            padding: 15px;
            background: rgba(30, 30, 60, 0.7);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 5px rgba(255, 204, 0, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 204, 0, 0.8); }
            100% { box-shadow: 0 0 5px rgba(255, 204, 0, 0.5); }
        }
        
        /* Player Character Display */
        #player-character-display {
            width: 100px;
            height: 100px;
            margin: 0 auto 10px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            border: 3px solid #00b09b;
        }
        
        #player-name-display {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- Character Selection Screen -->
    <div id="character-selection-screen" class="login-container">
        <h1 class="title">RPG CHARACTER SELECTION</h1>
        <p class="subtitle">Enter your name and choose your hero!</p>

        <!-- Player Name Input -->
        <div class="player-name">
            <input type="text" id="playerName" placeholder="Enter your hero name...">
        </div>

        <!-- Character Cards -->
        <div class="character-selection" id="characterList"></div>

        <!-- Start Game -->
        <button id="start-quest-btn" disabled>BEGIN YOUR QUEST</button>
        <div class="game-link">Already have a character? <a href="#">Continue your adventure</a></div>
    </div>

    <!-- Battle Game Screen -->
    <div id="battle-screen" class="battle-container">
        <div class="game-header">
            <div class="player-info">
                <div id="player-character-display"></div>
                <div id="player-name-display"></div>
                <div class="health-bar">
                    <div id="player-health" class="health-fill"></div>
                </div>
                <div class="health-value" id="player-health-value">100%</div>
            </div>
            
            <div class="game-info">
                <div class="info-box">
                    <h3>Round</h3>
                    <div id="round-display">0</div>
                </div>
                <div class="info-box">
                    <h3>Score</h3>
                    <div id="score-display">0</div>
                </div>
                <div class="info-box">
                    <h3>Level</h3>
                    <div id="level-display">1</div>
                </div>
            </div>
            
            <div class="monster-info">
                <div class="monster-display" id="monster-display"></div>
                <div id="monster-name">Goblin</div>
                <div id="monster-level">Level: 1</div>
                <div class="health-bar">
                    <div id="monster-health" class="health-fill"></div>
                </div>
                <div class="health-value" id="monster-health-value">100%</div>
            </div>
        </div>
        
        <div class="game-board">
            <div class="game-buttons">
                <button id="archer" class="game-button">
                    <i class="fas fa-bow-arrow"></i> Archer
                </button>
                <button id="mage" class="game-button">
                    <i class="fas fa-hat-wizard"></i> Mage
                </button>
                <button id="warrior" class="game-button">
                    <i class="fas fa-sword"></i> Warrior
                </button>
                <button id="healer" class="game-button">
                    <i class="fas fa-hand-holding-medical"></i> Healer
                </button>
            </div>
            
            <div class="game-controls">
                <button id="start-btn">Start Battle</button>
                <button id="redo-btn">Replay Pattern</button>
            </div>
            
            <div id="feedback" class="feedback">Press Start Battle to begin!</div>
        </div>
    </div>

    <script>
        // Character Selection Code
        document.addEventListener('DOMContentLoaded', function() {
            // Sample character data
            const characters = [
                { id: 'archer', name: 'Archer', image: 'https://i.ibb.co/7VR0j3v/archer.png' },
                { id: 'mage', name: 'Mage', image: 'https://i.ibb.co/3c7Dc8S/mage.png' },
                { id: 'warrior', name: 'Warrior', image: 'https://i.ibb.co/bgX8w4k/warrior.png' },
                { id: 'healer', name: 'Healer', image: 'https://i.ibb.co/8dJ4ZkS/healer.png' }
            ];
            
            let selectedCharacter = null;
            const playerNameInput = document.getElementById('playerName');
            const characterList = document.getElementById('characterList');
            const startQuestBtn = document.getElementById('start-quest-btn');
            
            // Populate character selection
            characters.forEach(character => {
                const card = document.createElement('div');
                card.className = 'character-card';
                card.dataset.id = character.id;
                card.innerHTML = `
                    <img src="${character.image}" alt="${character.name}">
                    <h3>${character.name}</h3>
                `;
                card.addEventListener('click', () => {
                    document.querySelectorAll('.character-card').forEach(c => c.classList.remove('selected'));
                    card.classList.add('selected');
                    selectedCharacter = character;
                    checkReady();
                });
                characterList.appendChild(card);
            });
            
            playerNameInput.addEventListener('input', checkReady);
            
            function checkReady() {
                if (playerNameInput.value.trim() !== '' && selectedCharacter) {
                    startQuestBtn.disabled = false;
                } else {
                    startQuestBtn.disabled = true;
                }
            }
            
            startQuestBtn.addEventListener('click', () => {
                const player = {
                    name: playerNameInput.value.trim(),
                    character: selectedCharacter
                };
                
                // Hide character selection and show battle screen
                document.getElementById('character-selection-screen').style.display = 'none';
                document.getElementById('battle-screen').style.display = 'block';
                
                // Initialize the battle game with player data
                startBattleGame(player);
            });
            
            // Battle Game Code
            function startBattleGame(player) {
                // Set the player character
                document.getElementById('player-character-display').style.backgroundImage = `url('${player.character.image}')`;
                document.getElementById('player-name-display').textContent = player.name;
                
                // Game state
                let sequence = [];
                let playerSequence = [];
                let round = 0;
                let score = 0;
                let playerHealth = 100;
                let monsterHealth = 100;
                let level = 1;
                let gameStarted = false;
                
                // DOM elements
                const buttons = document.querySelectorAll('.game-button');
                const feedback = document.getElementById('feedback');
                const monsterName = document.getElementById('monster-name');
                const monsterLevel = document.getElementById('monster-level');
                const monsterDisplay = document.getElementById('monster-display');
                const playerHPBar = document.getElementById('player-health');
                const monsterHPBar = document.getElementById('monster-health');
                const playerHealthValue = document.getElementById('player-health-value');
                const monsterHealthValue = document.getElementById('monster-health-value');
                const roundDisplay = document.getElementById('round-display');
                const scoreDisplay = document.getElementById('score-display');
                const levelDisplay = document.getElementById('level-display');
                const startBtn = document.getElementById('start-btn');
                const redoBtn = document.getElementById('redo-btn');
                
                // Level configuration (min/max sequence length, speed multiplier)
                const levelConfig = [
                    { min: 1, max: 6, speed: 800 },  // Level 1
                    { min: 2, max: 8, speed: 700 },  // Level 2
                    { min: 3, max: 10, speed: 600 }, // Level 3
                    { min: 4, max: 12, speed: 500 }, // Level 4
                    { min: 6, max: 13, speed: 400 }  // Level 5
                ];
                
                // Monster data with increasing difficulty and unique images
                const monsters = [
                    { 
                        name: "Goblin", 
                        level: 1, 
                        image: "https://i.ibb.co/5cBf3Yg/goblin.png",
                        health: 100
                    },
                    { 
                        name: "Orc", 
                        level: 2, 
                        image: "https://i.ibb.co/0JbLhLg/orc.png",
                        health: 150
                    },
                    { 
                        name: "Dark Mage", 
                        level: 3, 
                        image: "https://i.ibb.co/2dMf3XG/darkmage.png",
                        health: 200
                    },
                    { 
                        name: "Skeleton Knight", 
                        level: 4, 
                        image: "https://i.ibb.co/S7TvzrG/sknigh.png",
                        health: 250
                    },
                    { 
                        name: "Dragon", 
                        level: 5, 
                        image: "https://i.ibb.co/0nCzF6n/dragon.png",
                        health: 300
                    }
                ];
                
                // Create monster card element
                function createMonsterCard(monster) {
                    const card = document.createElement('div');
                    card.className = 'monster-card appear';
                    card.style.backgroundImage = `url('${monster.image}')`;
                    card.style.display = 'block';
                    return card;
                }
                
                // Initialize game
                function initGame() {
                    sequence = [];
                    playerSequence = [];
                    round = 0;
                    score = 0;
                    playerHealth = 100;
                    level = 1;
                    
                    // Set first monster
                    setMonster(level - 1);
                    updateDisplays();
                    
                    feedback.textContent = "Press Start Battle to begin your adventure!";
                    gameStarted = false;
                }
                
                // Set monster based on level
                function setMonster(index) {
                    const monster = monsters[index];
                    monsterName.textContent = monster.name;
                    monsterLevel.textContent = `Level: ${monster.level}`;
                    monsterHealth = monster.health;
                    levelDisplay.textContent = monster.level;
                    
                    // Clear previous card and create new one
                    monsterDisplay.innerHTML = '';
                    const card = createMonsterCard(monster);
                    monsterDisplay.appendChild(card);
                }
                
                // Update all displays
                function updateDisplays() {
                    playerHPBar.style.width = playerHealth + "%";
                    monsterHPBar.style.width = (monsterHealth / monsters[level-1].health * 100) + "%";
                    playerHealthValue.textContent = playerHealth + "%";
                    monsterHealthValue.textContent = Math.round((monsterHealth / monsters[level-1].health) * 100) + "%";
                    roundDisplay.textContent = round;
                    scoreDisplay.textContent = score;
                    levelDisplay.textContent = level;
                }
                
                // Start battle
                function startBattle() {
                    if (gameStarted) return;
                    
                    gameStarted = true;
                    feedback.textContent = `Battle begins! Defeat the ${monsters[level-1].name}!`;
                    
                    setTimeout(() => {
                        nextRound();
                    }, 1500);
                }
                
                // Replay sequence
                function replaySequence() {
                    if (gameStarted && sequence.length > 0) {
                        feedback.textContent = "Replaying the pattern...";
                        showSequence();
                    }
                }
                
                // Move to next round
                function nextRound() {
                    if (!gameStarted) return;
                    
                    playerSequence = [];
                    round++;
                    roundDisplay.textContent = round;
                    
                    // Get current level configuration
                    const config = levelConfig[level - 1];
                    
                    // Calculate target sequence length for this round
                    let targetLength = config.min + (round - 1);
                    if (targetLength > config.max) {
                        targetLength = config.max;
                    }
                    
                    // Adjust sequence to target length
                    while (sequence.length < targetLength) {
                        sequence.push(nextAttack());
                    }
                    
                    feedback.textContent = `Memorize the attack pattern! Round ${round}`;
                    showSequence();
                }
                
                // Generate random attack
                function nextAttack() {
                    const choices = ['archer', 'mage', 'warrior', 'healer'];
                    return choices[Math.floor(Math.random() * choices.length)];
                }
                
                // Show sequence to player
                function showSequence() {
                    const config = levelConfig[level - 1];
                    let delay = config.speed;
                    
                    sequence.forEach((cls, index) => {
                        setTimeout(() => {
                            highlightButton(cls);
                            
                            // Add sound effect based on attack type
                            const sound = new Audio();
                            sound.volume = 0.3;
                            
                            // Base64 encoded simple beep sounds
                            const beepSound = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAAAAAAA=';
                            sound.src = beepSound;
                            
                            sound.play().catch(e => console.log("Audio play error:", e));
                            
                        }, delay * (index + 1));
                    });
                    
                    // After sequence, allow player input
                    setTimeout(() => {
                        if (gameStarted) {
                            feedback.textContent = "Your turn! Repeat the pattern.";
                        }
                    }, delay * (sequence.length + 1));
                }
                
                // Highlight button
                function highlightButton(cls) {
                    const btn = document.getElementById(cls);
                    btn.classList.add('active');
                    
                    setTimeout(() => {
                        btn.classList.remove('active');
                    }, 400);
                }
                
                // Handle player input
                function handlePlayerInput(cls) {
                    if (!gameStarted) return;
                    
                    playerSequence.push(cls);
                    highlightButton(cls);
                    
                    // Check if input is correct
                    if (!checkPlayerInput()) {
                        // Player made a mistake
                        const damage = 10 + (level * 2); // Damage increases with level
                        playerHealth = Math.max(playerHealth - damage, 0);
                        
                        // Update displays immediately
                        updateDisplays();
                        
                        if (playerHealth <= 0) {
                            // Game over
                            gameStarted = false;
                            feedback.textContent = "💀 GAME OVER! You were defeated...";
                            return;
                        }
                        
                        feedback.textContent = `❌ Wrong move! -${damage} HP`;
                        
                        // After a delay, restart the round
                        setTimeout(() => {
                            playerSequence = [];
                            feedback.textContent = "Try again...";
                            showSequence();
                        }, 2000);
                        
                        return;
                    }
                    
                    // Check if sequence is complete
                    if (playerSequence.length === sequence.length) {
                        // Successful sequence
                        let healAmount = 0;
                        let damageAmount = 0;
                        
                        // Calculate damage and healing
                        sequence.forEach(attack => {
                            if (attack === 'healer') {
                                healAmount += 10 + (level * 2); // Healing increases with level
                            } else {
                                damageAmount += 10 + (level * 2); // Damage increases with level
                            }
                        });
                        
                        // Apply healing (capped at 100)
                        playerHealth = Math.min(playerHealth + healAmount, 100);
                        
                        // Apply damage to monster
                        monsterHealth -= damageAmount;
                        score += damageAmount;
                        
                        // Update displays
                        updateDisplays();
                        
                        if (monsterHealth <= 0) {
                            // Monster defeated
                            monsterHealth = 0;
                            
                            // Play defeat animation
                            const card = document.querySelector('.monster-card');
                            card.classList.remove('appear');
                            card.classList.add('defeat');
                            
                            feedback.textContent = `🏆 ${monsters[level-1].name} defeated!`;
                            score += 100 * level; // Bonus for defeating monster
                            
                            // Advance to next level
                            setTimeout(() => {
                                if (level < monsters.length) {
                                    level++;
                                    setMonster(level - 1);
                                    playerHealth = 100; // Full health for next battle
                                    sequence = [];
                                    round = 0;
                                    updateDisplays();
                                    
                                    feedback.textContent = `Advanced to level ${level}! Facing ${monsters[level-1].name}!`;
                                    
                                    // Start next battle after delay
                                    setTimeout(() => {
                                        nextRound();
                                    }, 2500);
                                } else {
                                    // Game completed
                                    gameStarted = false;
                                    feedback.textContent = "🎉 CONGRATULATIONS! You defeated all monsters and won the game!";
                                }
                            }, 2000);
                        } else {
                            // Continue to next round
                            let message = "✅ Perfect! ";
                            
                            if (healAmount > 0) {
                                message += `You healed ${healAmount} HP. `;
                            }
                            
                            message += `You dealt ${damageAmount} damage!`;
                            feedback.textContent = message;
                            
                            setTimeout(() => {
                                nextRound();
                            }, 1500);
                        }
                    }
                }
                
                // Check player input
                function checkPlayerInput() {
                    const index = playerSequence.length - 1;
                    return playerSequence[index] === sequence[index];
                }
                
                // Event listeners for battle buttons
                startBtn.addEventListener('click', startBattle);
                redoBtn.addEventListener('click', replaySequence);
                
                buttons.forEach(btn => {
                    btn.addEventListener('click', () => handlePlayerInput(btn.id));
                });
                
                document.addEventListener('keydown', (e) => {
                    if (!gameStarted) return;
                    if (e.key === '1') handlePlayerInput('archer');
                    if (e.key === '2') handlePlayerInput('mage');
                    if (e.key === '3') handlePlayerInput('warrior');
                    if (e.key === '4') handlePlayerInput('healer');
                });
                
                // Initialize the battle game
                initGame();
            }
        });
    </script>
</body>
</html>